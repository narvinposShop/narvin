<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ Ù†Ø§Ø±ÙˆÛŒÙ† Ù¾ÙˆØ² - Ù†Ø³Ø®Ù‡ Ù¾ÛŒØ´Ø±ÙØªÙ‡</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* Reset & Base */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Tahoma', 'Segoe UI', sans-serif;
}

body {
  background: linear-gradient(135deg, #dff1e0, #ffffff);
  color: #111;
  padding-bottom: 70px;
  min-height: 100vh;
}

/* Header */
header {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 20px;
  background: linear-gradient(90deg, #0dbf6f, #08a85c);
  color: white;
  position: sticky;
  top: 0;
  z-index: 1000;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

header img.logo {
  width: 45px;
  height: 45px;
  border-radius: 8px;
  object-fit: cover;
  border: 2px solid white;
}

header h1 {
  margin: 0;
  font-size: 22px;
  flex-grow: 1;
}

#menuToggle {
  font-size: 28px;
  cursor: pointer;
  padding: 5px;
  transition: transform 0.3s;
}

#menuToggle:hover {
  transform: scale(1.1);
}

#menu {
  display: none;
  position: absolute;
  top: 65px;
  right: 20px;
  background: white;
  width: 220px;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  flex-direction: column;
  z-index: 1001;
  overflow: hidden;
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

#menu a {
  display: block;
  padding: 12px 16px;
  color: #333;
  text-decoration: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.08);
  transition: all 0.2s;
}

#menu a:hover {
  background: #f0fff8;
  color: #0dbf6f;
  padding-right: 20px;
}

#menu a i {
  margin-left: 8px;
}

/* User Section */
#userIcon {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  background: linear-gradient(135deg, #00ffae, #0dbf6f);
  color: #003322;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  cursor: pointer;
  margin-left: 10px;
  transition: transform 0.3s;
  border: 2px solid white;
}

#userIcon:hover {
  transform: scale(1.05);
}

#userPanel {
  display: none;
  position: absolute;
  top: 65px;
  right: 80px;
  background: white;
  padding: 16px;
  border-radius: 12px;
  box-shadow: 0 8px 20px rgba(0, 0, 0, 0.15);
  width: 250px;
  z-index: 1001;
  animation: fadeIn 0.3s ease;
}

#userPanel p {
  margin: 8px 0;
  padding: 6px;
  background: #f9f9f9;
  border-radius: 6px;
}

#userPanel button {
  width: 100%;
  padding: 10px;
  background: #0dbf6f;
  color: white;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 10px;
  font-weight: bold;
  transition: background 0.3s;
}

#userPanel button:hover {
  background: #08a85c;
}

/* Sliders */
.section-title {
  padding: 15px 20px 5px;
  font-size: 20px;
  color: #0dbf6f;
  display: flex;
  align-items: center;
  gap: 10px;
}

.section-title i {
  color: #ff6b6b;
}

.slider-container {
  overflow: hidden;
  padding: 10px 20px 30px;
  position: relative;
}

.slider {
  display: flex;
  gap: 20px;
  transition: transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

/* Cards */
.card {
  min-width: 250px;
  background: white;
  border-radius: 16px;
  padding: 16px;
  box-shadow: 0 6px 15px rgba(0, 0, 0, 0.08);
  color: #111;
  flex-shrink: 0;
  transition: all 0.3s ease;
  position: relative;
  overflow: hidden;
  border: 1px solid rgba(0, 0, 0, 0.05);
}

.card:hover {
  transform: translateY(-8px);
  box-shadow: 0 12px 20px rgba(0, 0, 0, 0.12);
}

.card.badge-special::before {
  content: "ÙˆÛŒÚ˜Ù‡";
  position: absolute;
  top: 12px;
  left: 12px;
  background: linear-gradient(45deg, #ff6b6b, #ff8e53);
  color: white;
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: bold;
  z-index: 2;
}

.card.badge-discount::before {
  content: "30% ØªØ®ÙÛŒÙ";
  position: absolute;
  top: 12px;
  left: 12px;
  background: linear-gradient(45deg, #36d1dc, #5b86e5);
  color: white;
  padding: 4px 10px;
  border-radius: 20px;
  font-size: 12px;
  font-weight: bold;
  z-index: 2;
}

.card img {
  width: 100%;
  height: 160px;
  object-fit: cover;
  border-radius: 12px;
  margin-bottom: 12px;
  transition: transform 0.5s;
}

.card:hover img {
  transform: scale(1.03);
}

.card h4 {
  margin: 8px 0;
  font-size: 18px;
  color: #222;
}

.card .price {
  font-size: 18px;
  font-weight: bold;
  color: #0dbf6f;
  margin: 8px 0;
}

.card .old-price {
  font-size: 14px;
  color: #999;
  text-decoration: line-through;
  margin-left: 10px;
}

.card .rating {
  color: #ffc107;
  margin: 8px 0;
  font-size: 14px;
}

.card .rating span {
  color: #666;
  margin-right: 5px;
  font-size: 13px;
}

.card button {
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  margin-top: 8px;
  font-weight: bold;
  transition: all 0.3s;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.card .buy {
  background: linear-gradient(90deg, #0dbf6f, #08a85c);
  color: white;
}

.card .buy:hover {
  background: linear-gradient(90deg, #08a85c, #067a45);
}

.card .details {
  background: #f0f8ff;
  color: #36d1dc;
}

.card .details:hover {
  background: #e1f0ff;
}

/* Cart */
#cartContainer {
  background: white;
  padding: 20px;
  position: fixed;
  top: 70px;
  right: 20px;
  border-radius: 16px;
  width: 300px;
  max-height: 500px;
  overflow-y: auto;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
  display: none;
  z-index: 1002;
  animation: slideIn 0.3s ease;
}

@keyframes slideIn {
  from { opacity: 0; transform: translateX(20px); }
  to { opacity: 1; transform: translateX(0); }
}

.cart-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 10px 0;
  border-bottom: 1px solid #eee;
}

.cart-item-info {
  flex-grow: 1;
}

.cart-item-name {
  font-weight: bold;
}

.cart-item-price {
  color: #0dbf6f;
  font-size: 14px;
}

.cart-item button {
  padding: 6px 12px;
  background: #ff6b6b;
  color: white;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-size: 12px;
  transition: background 0.3s;
}

.cart-item button:hover {
  background: #ff4757;
}

.cart-total {
  margin-top: 15px;
  padding-top: 15px;
  border-top: 2px solid #0dbf6f;
  font-size: 18px;
  font-weight: bold;
  color: #222;
  display: flex;
  justify-content: space-between;
}

.cart-actions {
  display: flex;
  gap: 10px;
  margin-top: 15px;
}

.cart-actions button {
  flex: 1;
  padding: 10px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
  transition: all 0.3s;
}

#checkoutBtn {
  background: linear-gradient(90deg, #0dbf6f, #08a85c);
  color: white;
}

#clearCartBtn {
  background: linear-gradient(90deg, #ff6b6b, #ff8e53);
  color: white;
}

.cart-empty {
  text-align: center;
  padding: 20px;
  color: #666;
}

.cart-empty i {
  font-size: 40px;
  color: #ccc;
  margin-bottom: 10px;
}

/* Modals */
.modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.85);
  align-items: center;
  justify-content: center;
  z-index: 2000;
  animation: fadeIn 0.3s;
}

.modal-content {
  background: white;
  padding: 25px;
  border-radius: 16px;
  width: 90%;
  max-width: 400px;
  text-align: center;
  color: #111;
  animation: popIn 0.4s cubic-bezier(0.18, 0.89, 0.32, 1.28);
}

@keyframes popIn {
  0% { transform: scale(0.8); opacity: 0; }
  100% { transform: scale(1); opacity: 1; }
}

.modal-content img {
  width: 100%;
  max-height: 200px;
  object-fit: contain;
  border-radius: 12px;
  margin-bottom: 15px;
}

.modal-content h3 {
  color: #0dbf6f;
  margin: 10px 0;
}

.modal-content .description {
  color: #666;
  line-height: 1.6;
  margin: 15px 0;
  text-align: justify;
}

.modal-content button {
  padding: 12px;
  width: 100%;
  margin-top: 10px;
  border: none;
  border-radius: 8px;
  cursor: pointer;
  font-weight: bold;
}

.modal-close {
  background: #ff6b6b;
  color: white;
}

.modal-close:hover {
  background: #ff4757;
}

/* User Form */
#userFormContainer {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  align-items: center;
  justify-content: center;
  z-index: 3000;
}

#userForm {
  background: #fff;
  padding: 25px;
  border-radius: 16px;
  width: 90%;
  max-width: 350px;
  text-align: center;
  color: #111;
}

#userForm h3 {
  color: #0dbf6f;
  margin-bottom: 20px;
}

#userForm input {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border-radius: 8px;
  border: 1px solid #ccc;
  font-size: 16px;
  transition: border 0.3s;
}

#userForm input:focus {
  border-color: #0dbf6f;
  outline: none;
}

#userForm button {
  padding: 12px;
  width: 100%;
  background: linear-gradient(90deg, #0dbf6f, #08a85c);
  color: white;
  border: none;
  border-radius: 8px;
  margin-top: 15px;
  cursor: pointer;
  font-weight: bold;
  font-size: 16px;
  transition: all 0.3s;
}

#userForm button:hover {
  transform: translateY(-2px);
  box-shadow: 0 5px 10px rgba(13, 191, 111, 0.3);
}

/* Bottom Navigation */
.nav-bottom {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  background: #fff;
  display: flex;
  justify-content: space-around;
  padding: 12px 0;
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
  z-index: 999;
}

.nav-bottom button {
  border: none;
  background: none;
  cursor: pointer;
  font-size: 12px;
  color: #666;
  display: flex;
  flex-direction: column;
  align-items: center;
  transition: all 0.3s;
  padding: 8px;
  border-radius: 10px;
  min-width: 60px;
}

.nav-bottom button:hover, .nav-bottom button.active {
  color: #0dbf6f;
  background: rgba(13, 191, 111, 0.1);
  transform: translateY(-5px);
}

.nav-bottom img {
  width: 24px;
  height: 24px;
  margin-bottom: 4px;
}

.nav-bottom .badge {
  position: absolute;
  top: -5px;
  right: 5px;
  background: #ff6b6b;
  color: white;
  border-radius: 50%;
  width: 18px;
  height: 18px;
  font-size: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Toast Notification */
.toast {
  position: fixed;
  bottom: 80px;
  right: 20px;
  background: #0dbf6f;
  color: white;
  padding: 12px 20px;
  border-radius: 10px;
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
  z-index: 10000;
  animation: slideUp 0.3s, fadeOut 0.3s 2s forwards;
  display: flex;
  align-items: center;
  gap: 10px;
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

@keyframes fadeOut {
  to { opacity: 0; }
}

/* Loading */
.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid rgba(255, 255, 255, 0.3);
  border-radius: 50%;
  border-top-color: white;
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}
</style>
</head>
<body>

<header>
  <img src="https://i.postimg.cc/XNcpcTWv/Screenshot-2026-01-31-15-28-04-087-com-google-android-googlequicksearchbox-edit.jpg" class="logo">
  <h1>Ù†Ø§Ø±ÙˆÛŒÙ† Ù¾ÙˆØ² <small>ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªØ®ØµØµÛŒ</small></h1>
  
  <div id="userIcon">
    <i class="fas fa-user"></i>
  </div>
  
  <div id="menuToggle">
    <i class="fas fa-bars"></i>
  </div>
  
  <div id="menu">
    <a href="#"><i class="fas fa-home"></i> ØµÙØ­Ù‡ Ø§ØµÙ„ÛŒ</a>
    <a href="#"><i class="fas fa-headset"></i> Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ</a>
    <a href="#" id="showCartBtn"><i class="fas fa-shopping-cart"></i> Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ <span id="cartCountBadge">0</span></a>
    <a href="#"><i class="fas fa-gift"></i> ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§</a>
    <a href="#"><i class="fas fa-star"></i> Ù…Ø­ØµÙˆÙ„Ø§Øª ÙˆÛŒÚ˜Ù‡</a>
    <a href="#"><i class="fas fa-info-circle"></i> Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a>
  </div>
  
  <div id="userPanel">
    <p id="panelUsername"><i class="fas fa-user"></i> Ú©Ø§Ø±Ø¨Ø±: Ù…Ù‡Ù…Ø§Ù†</p>
    <p id="panelWallet"><i class="fas fa-wallet"></i> Ú©ÛŒÙ Ù¾ÙˆÙ„: 0 ØªÙˆÙ…Ø§Ù†</p>
    <p id="panelPhone"><i class="fas fa-phone"></i> ØªÙ„ÙÙ†: Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡</p>
    <button id="closePanel"><i class="fas fa-times"></i> Ø¨Ø³ØªÙ† Ù¾Ù†Ù„</button>
  </div>
</header>

<!-- Main Slider - Devices -->
<h2 class="section-title">
  <i class="fas fa-mobile-alt"></i>
  Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø´ Ù„Ø³
</h2>
<div class="slider-container">
  <div class="slider" id="sliderDevices">
    <!-- Product 1 -->
    <div class="card badge-special" data-name="Ú©Ø´ Ù„Ø³ T1 Pro" data-price="Û³Û¸,Û°Û°Û°,Û°Û°Û°" data-img="https://i.postimg.cc/28xYtD96/ksh-ls-syar-T1-pro.jpg" 
         data-description="Ø¯Ø³ØªÚ¯Ø§Ù‡ Ú©Ø´ Ù„Ø³ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒ Ø¨Ø§ Ø³Ø±Ø¹Øª Ø¨Ø§Ù„Ø§ Ùˆ Ø§ØªØµØ§Ù„ Ù¾Ø§ÛŒØ¯Ø§Ø± - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±Ù‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯">
      <img src="https://i.postimg.cc/28xYtD96/ksh-ls-syar-T1-pro.jpg">
      <h4>Ú©Ø´ Ù„Ø³ T1 Pro</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        <span>(Û´.Ûµ)</span>
      </div>
      <div>
        <span class="price">Û³Û¸,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="Ú©Ø´ Ù„Ø³ T1 Pro" data-price="Û³Û¸,Û°Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
    
    <!-- Product 2 -->
    <div class="card badge-discount" data-name="PAX S90" data-price="Û·,Û°Û°Û°,Û°Û°Û°" data-img="https://i.postimg.cc/K8q2Z52F/sfhh-rngy-s90-min.jpg"
         data-description="Ø¯Ø³ØªÚ¯Ø§Ù‡ Ù‡Ù…Ø±Ø§Ù‡ Ø¨Ø§ Ø·Ø±Ø§Ø­ÛŒ Ø²ÛŒØ¨Ø§ - Ù…Ù†Ø§Ø³Ø¨ Ø¨Ø±Ø§ÛŒ Ù…ØºØ§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ùˆ Ù…ØªÙˆØ³Ø·">
      <img src="https://i.postimg.cc/K8q2Z52F/sfhh-rngy-s90-min.jpg">
      <h4>PAX S90</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="far fa-star"></i>
        <span>(Û´.Û°)</span>
      </div>
      <div>
        <span class="price">Û·,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
        <span class="old-price">Û±Û°,Û°Û°Û°,Û°Û°Û°</span>
      </div>
      <button class="buy" data-product="PAX S90" data-price="Û·,Û°Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
    
    <!-- Product 3 -->
    <div class="card" data-name="AMP 9000" data-price="Û±Û°,Û°Û°Û°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ø¯Ø³ØªÚ¯Ø§Ù‡ Ú†Ù†Ø¯Ú©Ø§Ø±Ù‡ Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ùˆ Ú¯Ø²Ø§Ø±Ø´â€ŒÚ¯ÛŒØ±ÛŒ">
      <img src="https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>AMP 9000</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <span>(Ûµ.Û°)</span>
      </div>
      <div>
        <span class="price">Û±Û°,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="AMP 9000" data-price="Û±Û°,Û°Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
    
    <!-- Product 4 -->
    <div class="card" data-name="Ú©Ø´ Ù„Ø³ Lite" data-price="Û²Ûµ,Û°Û°Û°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ù†Ø³Ø®Ù‡ Ø³Ø¨Ú© Ùˆ Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±">
      <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>Ú©Ø´ Ù„Ø³ Lite</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="far fa-star"></i>
        <span>(Û´.Û°)</span>
      </div>
      <div>
        <span class="price">Û²Ûµ,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="Ú©Ø´ Ù„Ø³ Lite" data-price="Û²Ûµ,Û°Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
  </div>
</div>

<!-- Accessories Slider -->
<h2 class="section-title">
  <i class="fas fa-plug"></i>
  Ù„ÙˆØ§Ø²Ù… Ø¬Ø§Ù†Ø¨ÛŒ
</h2>
<div class="slider-container">
  <div class="slider" id="sliderAccessories">
    <!-- Accessory 1 -->
    <div class="card" data-name="Ø¢Ø¯Ø§Ù¾ØªÙˆØ± Ø´Ø§Ø±Ú˜ Ø³Ø±ÛŒØ¹" data-price="Û±,Û²Û°Û°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ø¢Ø¯Ø§Ù¾ØªÙˆØ± Ø´Ø§Ø±Ú˜ Ø³Ø±ÛŒØ¹ Ø¨Ø§ Ù‚Ø¯Ø±Øª Û³Û³ ÙˆØ§Øª - Ù‚Ø§Ø¨Ù„ÛŒØª Ø´Ø§Ø±Ú˜ Ø³Ø±ÛŒØ¹ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù">
      <img src="https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>Ø¢Ø¯Ø§Ù¾ØªÙˆØ± Ø´Ø§Ø±Ú˜ Ø³Ø±ÛŒØ¹</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="far fa-star"></i>
        <span>(Û´.Û°)</span>
      </div>
      <div>
        <span class="price">Û±,Û²Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="Ø¢Ø¯Ø§Ù¾ØªÙˆØ± Ø´Ø§Ø±Ú˜ Ø³Ø±ÛŒØ¹" data-price="Û±,Û²Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
    
    <!-- Accessory 2 -->
    <div class="card" data-name="Ú©Ø§Ø¨Ù„ Ø´Ø§Ø±Ú˜ USB-C" data-price="ÛµÛ°Û°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1586816879360-004f5b0c51e5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ú©Ø§Ø¨Ù„ Ø´Ø§Ø±Ú˜ USB-C Ø¨Ø§ Ø·ÙˆÙ„ Û±.Ûµ Ù…ØªØ± - Ù…Ù‚Ø§ÙˆÙ… Ùˆ Ø¨Ø§ Ø¯ÙˆØ§Ù…">
      <img src="https://images.unsplash.com/photo-1586816879360-004f5b0c51e5?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>Ú©Ø§Ø¨Ù„ Ø´Ø§Ø±Ú˜ USB-C</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        <span>(Û´.Ûµ)</span>
      </div>
      <div>
        <span class="price">ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="Ú©Ø§Ø¨Ù„ Ø´Ø§Ø±Ú˜ USB-C" data-price="ÛµÛ°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
    
    <!-- Accessory 3 -->
    <div class="card" data-name="Ú©ÛŒÙ Ù…Ø­Ø§ÙØ¸" data-price="Û·ÛµÛ°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ú©ÛŒÙ Ù…Ø­Ø§ÙØ¸ Ø¶Ø¯ Ø¶Ø±Ø¨Ù‡ Ùˆ Ø¶Ø¯ Ø¢Ø¨ Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ú©Ø´ Ù„Ø³">
      <img src="https://images.unsplash.com/photo-1546868871-7041f2a55e12?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>Ú©ÛŒÙ Ù…Ø­Ø§ÙØ¸</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <span>(Ûµ.Û°)</span>
      </div>
      <div>
        <span class="price">Û·ÛµÛ°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="Ú©ÛŒÙ Ù…Ø­Ø§ÙØ¸" data-price="Û·ÛµÛ°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
    
    <!-- Accessory 4 -->
    <div class="card" data-name="Ù¾Ø§ÛŒÙ‡ Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡" data-price="Û´Û°Û°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ù¾Ø§ÛŒÙ‡ Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡ ÙÙ„Ø²ÛŒ Ø¨Ø§ Ù‚Ø§Ø¨Ù„ÛŒØª ØªÙ†Ø¸ÛŒÙ… Ø²Ø§ÙˆÛŒÙ‡">
      <img src="https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>Ù¾Ø§ÛŒÙ‡ Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="far fa-star"></i>
        <span>(Û´.Û°)</span>
      </div>
      <div>
        <span class="price">Û´Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
      </div>
      <button class="buy" data-product="Ù¾Ø§ÛŒÙ‡ Ù†Ú¯Ù‡Ø¯Ø§Ø±Ù†Ø¯Ù‡" data-price="Û´Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
  </div>
</div>

<!-- Special Offers -->
<h2 class="section-title">
  <i class="fas fa-fire"></i>
  Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª ÙˆÛŒÚ˜Ù‡
</h2>
<div class="slider-container">
  <div class="slider" id="sliderOffers">
    <div class="card badge-discount" data-name="Ù¾Ú©ÛŒØ¬ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±" data-price="Û´Ûµ,Û°Û°Û°,Û°Û°Û°" data-img="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80"
         data-description="Ù¾Ú©ÛŒØ¬ Ú©Ø§Ù…Ù„ Ø´Ø§Ù…Ù„ Ø¯Ø³ØªÚ¯Ø§Ù‡ + Ù„ÙˆØ§Ø²Ù… Ø¬Ø§Ù†Ø¨ÛŒ + Ù†ØµØ¨ Ùˆ Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ">
      <img src="https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?ixlib=rb-4.0.3&auto=format&fit=crop&w=500&q=80">
      <h4>Ù¾Ú©ÛŒØ¬ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±</h4>
      <div class="rating">
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star"></i>
        <i class="fas fa-star-half-alt"></i>
        <span>(Û´.Ûµ)</span>
      </div>
      <div>
        <span class="price">Û´Ûµ,Û°Û°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†</span>
        <span class="old-price">ÛµÛµ,Û°Û°Û°,Û°Û°Û°</span>
      </div>
      <button class="buy" data-product="Ù¾Ú©ÛŒØ¬ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±" data-price="Û´Ûµ,Û°Û°Û°,Û°Û°Û°">
        <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯
      </button>
      <button class="details">
        <i class="fas fa-info-circle"></i> Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø­ØµÙˆÙ„
      </button>
    </div>
  </div>
</div>

<!-- Cart Modal -->
<div id="cartContainer">
  <div class="cart-header">
    <h3><i class="fas fa-shopping-cart"></i> Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§</h3>
    <button id="closeCartBtn" style="background:none;border:none;font-size:20px;color:#666;cursor:pointer;">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div id="cartItems"></div>
  <div class="cart-total">
    <span>Ø¬Ù…Ø¹ Ú©Ù„:</span>
    <span id="cartTotalPrice">Û° ØªÙˆÙ…Ø§Ù†</span>
  </div>
  <div class="cart-actions">
    <button id="clearCartBtn">
      <i class="fas fa-trash"></i> Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯
    </button>
    <button id="checkoutBtn">
      <i class="fas fa-check"></i> ØªØ³ÙˆÛŒÙ‡ Ø­Ø³Ø§Ø¨
    </button>
  </div>
</div>

<!-- Product Detail Modal -->
<div id="productModal" class="modal">
  <div class="modal-content">
    <img id="productImg" src="" alt="Ù…Ø­ØµÙˆÙ„">
    <h3 id="productName"></h3>
    <div class="rating" id="productRating"></div>
    <p id="productPrice" class="price"></p>
    <p class="description" id="productDescription"></p>
    <button id="addProductBtn">
      <i class="fas fa-cart-plus"></i> Ø§ÙØ²ÙˆØ¯Ù† Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
    </button>
    <button id="closeProduct" class="modal-close">
      <i class="fas fa-times"></i> Ø¨Ø³ØªÙ†
    </button>
  </div>
</div>

<!-- User Form Modal -->
<div id="userFormContainer" class="modal">
  <form id="userForm">
    <h3><i class="fas fa-user-edit"></i> ØªÚ©Ù…ÛŒÙ„ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ</h3>
    <input type="text" id="usernameInput" placeholder="Ù†Ø§Ù… Ùˆ Ù†Ø§Ù… Ø®Ø§Ù†ÙˆØ§Ø¯Ú¯ÛŒ" required>
    <input type="tel" id="phoneInput" placeholder="Ø´Ù…Ø§Ø±Ù‡ ØªÙ„ÙÙ† Ù‡Ù…Ø±Ø§Ù‡" required>
    <input type="email" id="emailInput" placeholder="Ø§ÛŒÙ…ÛŒÙ„ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)">
    <input type="text" id="addressInput" placeholder="Ø¢Ø¯Ø±Ø³ (Ø§Ø®ØªÛŒØ§Ø±ÛŒ)">
    <button type="submit">
      <i class="fas fa-save"></i> Ø°Ø®ÛŒØ±Ù‡ Ø§Ø·Ù„Ø§Ø¹Ø§Øª
    </button>
    <button type="button" id="skipUserForm" style="background:#666;margin-top:5px;">
      <i class="fas fa-forward"></i> Ø±Ø¯ Ú©Ø±Ø¯Ù†
    </button>
  </form>
</div>

<!-- Bottom Navigation -->
<div class="nav-bottom">
  <button onclick="window.scrollTo(0,0)" class="active">
    <img src="https://i.postimg.cc/7Z2s7BZX/home-icon.png" alt="Ø®Ø§Ù†Ù‡">
    Ø®Ø§Ù†Ù‡
  </button>
  <button id="cartBtnBottom">
    <img src="https://i.postimg.cc/KjLQ1f2G/cart-icon.png" alt="Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯">
    Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯
    <span class="badge" id="bottomCartBadge">0</span>
  </button>
  <button onclick="showUserPanel()">
    <img src="https://i.postimg.cc/Prz7bYxS/user-icon.png" alt="Ù¾Ø±ÙˆÙØ§ÛŒÙ„">
    Ù¾Ø±ÙˆÙØ§ÛŒÙ„
  </button>
  <button onclick="showSpecialOffers()">
    <img src="https://i.postimg.cc/3xFv9s1D/info-icon.png" alt="ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§">
    ØªØ®ÙÛŒÙâ€ŒÙ‡Ø§
  </button>
  <button onclick="showSupport()">
    <i class="fas fa-headset" style="font-size:20px;margin-bottom:4px;"></i>
    Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ
  </button>
</div>

<!-- Toast Notification Container -->
<div id="toastContainer"></div>

<script>
// ==================== GLOBAL VARIABLES ====================
let user = JSON.parse(localStorage.getItem('user')) || null;
let cart = JSON.parse(localStorage.getItem('cart')) || [];
let currentProductBtn = null;

// ==================== DOM ELEMENTS ====================
const menuToggle = document.getElementById('menuToggle');
const menu = document.getElementById('menu');
const userIcon = document.getElementById('userIcon');
const userPanel = document.getElementById('userPanel');
const panelUsername = document.getElementById('panelUsername');
const panelWallet = document.getElementById('panelWallet');
const panelPhone = document.getElementById('panelPhone');
const closePanel = document.getElementById('closePanel');
const cartContainer = document.getElementById('cartContainer');
const cartItems = document.getElementById('cartItems');
const cartTotalPrice = document.getElementById('cartTotalPrice');
const cartCountBadge = document.getElementById('cartCountBadge');
const bottomCartBadge = document.getElementById('bottomCartBadge');
const productModal = document.getElementById('productModal');
const userFormContainer = document.getElementById('userFormContainer');

// ==================== MENU & USER PANEL ====================
menuToggle.addEventListener('click', () => {
  menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
});

userIcon.addEventListener('click', () => {
  userPanel.style.display = userPanel.style.display === 'block' ? 'none' : 'block';
  if (userPanel.style.display === 'block') {
    updateUserPanel();
  }
});

closePanel.addEventListener('click', () => {
  userPanel.style.display = 'none';
});

function updateUserPanel() {
  if (user) {
    panelUsername.innerHTML = `<i class="fas fa-user"></i> Ú©Ø§Ø±Ø¨Ø±: ${user.username}`;
    panelWallet.innerHTML = `<i class="fas fa-wallet"></i> Ú©ÛŒÙ Ù¾ÙˆÙ„: ${user.wallet}`;
    panelPhone.innerHTML = `<i class="fas fa-phone"></i> ØªÙ„ÙÙ†: ${user.phone}`;
  } else {
    panelUsername.innerHTML = `<i class="fas fa-user"></i> Ú©Ø§Ø±Ø¨Ø±: Ù…Ù‡Ù…Ø§Ù†`;
    panelWallet.innerHTML = `<i class="fas fa-wallet"></i> Ú©ÛŒÙ Ù¾ÙˆÙ„: 0 ØªÙˆÙ…Ø§Ù†`;
    panelPhone.innerHTML = `<i class="fas fa-phone"></i> ØªÙ„ÙÙ†: Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡`;
  }
}

// ==================== AUTO SLIDERS ====================
function autoSlider(slider) {
  let index = 0;
  const cards = slider.children;
  const total = cards.length;
  
  if (total <= 1) return;
  
  setInterval(() => {
    index = (index + 1) % total;
    slider.style.transform = `translateX(-${index * 270}px)`;
    
    // Reset to start if at the end
    if (index === total - 1) {
      setTimeout(() => {
        slider.style.transition = 'none';
        slider.style.transform = `translateX(0)`;
        setTimeout(() => {
          slider.style.transition = 'transform 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94)';
        }, 50);
      }, 3000);
    }
  }, 4000);
}

// Initialize sliders
document.querySelectorAll('.slider').forEach(slider => {
  autoSlider(slider);
});

// ==================== CART SYSTEM ====================
function updateCartBadges() {
  const count = cart.length;
  cartCountBadge.textContent = count;
  bottomCartBadge.textContent = count;
  bottomCartBadge.style.display = count > 0 ? 'flex' : 'none';
}

function priceToNumber(price) {
  if (!price) return 0;
  return Number(price.toString().replace(/,/g, '').replace(/[^\d]/g, ''));
}

function renderCart() {
  cartItems.innerHTML = '';
  
  if (cart.length === 0) {
    cartItems.innerHTML = `
      <div class="cart-empty">
        <i class="fas fa-shopping-cart"></i>
        <p>Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª</p>
      </div>
    `;
    cartTotalPrice.textContent = 'Û° ØªÙˆÙ…Ø§Ù†';
    return;
  }
  
  let total = 0;
  
  cart.forEach((item, index) => {
    total += priceToNumber(item.price);
    
    const itemElement = document.createElement('div');
    itemElement.className = 'cart-item';
    itemElement.innerHTML = `
      <div class="cart-item-info">
        <div class="cart-item-name">${index + 1}. ${item.name}</div>
        <div class="cart-item-price">${item.price} ØªÙˆÙ…Ø§Ù†</div>
      </div>
      <button class="remove-item" data-index="${index}">
        <i class="fas fa-trash"></i>
      </button>
    `;
    
    cartItems.appendChild(itemElement);
  });
  
  // Add total
  cartTotalPrice.textContent = total.toLocaleString('fa') + ' ØªÙˆÙ…Ø§Ù†';
  
  // Add event listeners to remove buttons
  document.querySelectorAll('.remove-item').forEach(btn => {
    btn.addEventListener('click', () => {
      const index = parseInt(btn.dataset.index);
      cart.splice(index, 1);
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
      updateCartBadges();
      showToast('Ù…Ø­ØµÙˆÙ„ Ø§Ø² Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø­Ø°Ù Ø´Ø¯', 'error');
    });
  });
}

function addToCart(productName, productPrice) {
  const priceNum = priceToNumber(productPrice);
  
  // Check user wallet if logged in
  if (user) {
    const walletNum = priceToNumber(user.wallet);
    if (priceNum > walletNum) {
      showToast('Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª!', 'error');
      return false;
    }
    
    // Deduct from wallet
    user.wallet = (walletNum - priceNum).toLocaleString('fa') + ' ØªÙˆÙ…Ø§Ù†';
    localStorage.setItem('user', JSON.stringify(user));
    updateUserPanel();
  }
  
  // Add to cart
  cart.push({
    name: productName,
    price: productPrice + ' ØªÙˆÙ…Ø§Ù†'
  });
  
  localStorage.setItem('cart', JSON.stringify(cart));
  renderCart();
  updateCartBadges();
  
  showToast(`"${productName}" Ø¨Ù‡ Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯`, 'success');
  return true;
}

// ==================== CART UI CONTROLS ====================
document.getElementById('showCartBtn').addEventListener('click', showCart);
document.getElementById('cartBtnBottom').addEventListener('click', showCart);
document.getElementById('closeCartBtn').addEventListener('click', hideCart);

function showCart() {
  cartContainer.style.display = 'block';
  renderCart();
}

function hideCart() {
  cartContainer.style.display = 'none';
}

// Clear cart button
document.getElementById('clearCartBtn').addEventListener('click', () => {
  if (cart.length === 0) return;
  
  if (confirm('Ø¢ÛŒØ§ Ø§Ø² Ø®Ø§Ù„ÛŒ Ú©Ø±Ø¯Ù† Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ØŸ')) {
    // Return money to wallet if user is logged in
    if (user) {
      let total = 0;
      cart.forEach(item => {
        total += priceToNumber(item.price);
      });
      
      const walletNum = priceToNumber(user.wallet);
      user.wallet = (walletNum + total).toLocaleString('fa') + ' ØªÙˆÙ…Ø§Ù†';
      localStorage.setItem('user', JSON.stringify(user));
      updateUserPanel();
    }
    
    cart = [];
    localStorage.setItem('cart', JSON.stringify(cart));
    renderCart();
    updateCartBadges();
    showToast('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø®Ø§Ù„ÛŒ Ø´Ø¯', 'warning');
  }
});

// Checkout button
document.getElementById('checkoutBtn').addEventListener('click', () => {
  if (cart.length === 0) {
    showToast('Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù…Ø§ Ø®Ø§Ù„ÛŒ Ø§Ø³Øª', 'error');
    return;
  }
  
  if (!user) {
    showToast('Ù„Ø·ÙØ§Ù‹ Ø§Ø¨ØªØ¯Ø§ ÙˆØ§Ø±Ø¯ Ø´ÙˆÛŒØ¯', 'error');
    userFormContainer.style.display = 'flex';
    return;
  }
  
  const total = cart.reduce((sum, item) => sum + priceToNumber(item.price), 0);
  
  if (confirm(`Ø¢ÛŒØ§ Ø§Ø² Ø®Ø±ÛŒØ¯ Ø¨Ù‡ Ù…Ø¨Ù„Øº ${total.toLocaleString('fa')} ØªÙˆÙ…Ø§Ù† Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ`)) {
    showToast('Ø³ÙØ§Ø±Ø´ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ø´Ø¯!', 'success');
    
    // In a real app, here you would send order to server
    setTimeout(() => {
      cart = [];
      localStorage.setItem('cart', JSON.stringify(cart));
      renderCart();
      updateCartBadges();
      hideCart();
    }, 1500);
  }
});

// ==================== PRODUCT MODAL ====================
document.querySelectorAll('.details').forEach(btn => {
  btn.addEventListener('click', function() {
    const card = this.closest('.card');
    const productImg = document.getElementById('productImg');
    const productName = document.getElementById('productName');
    const productPrice = document.getElementById('productPrice');
    const productDescription = document.getElementById('productDescription');
    const productRating = document.getElementById('productRating');
    const addProductBtn = document.getElementById('addProductBtn');
    
    // Set product data
    productImg.src = card.dataset.img || 'https://via.placeholder.com/400x300?text=ØªØµÙˆÛŒØ±+Ù…Ø­ØµÙˆÙ„';
    productName.textContent = card.dataset.name;
    productPrice.textContent = card.dataset.price + ' ØªÙˆÙ…Ø§Ù†';
    productDescription.textContent = card.dataset.description || 'ØªÙˆØ¶ÛŒØ­Ø§Øª Ø§ÛŒÙ† Ù…Ø­ØµÙˆÙ„ ÙˆØ§Ø±Ø¯ Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.';
    
    // Copy rating from card
    const ratingHtml = card.querySelector('.rating')?.innerHTML || 
      `<i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i> <span>(Û´.Û°)</span>`;
    productRating.innerHTML = ratingHtml;
    
    // Set data on add button
    addProductBtn.dataset.name = card.dataset.name;
    addProductBtn.dataset.price = card.dataset.price;
    
    // Show modal
    productModal.style.display = 'flex';
  });
});

// Close product modal
document.getElementById('closeProduct').addEventListener('click', () => {
  productModal.style.display = 'none';
});

// Add product from modal
document.getElementById('addProductBtn').addEventListener('click', function() {
  const productName = this.dataset.name;
  const productPrice = this.dataset.price;
  
  if (!user) {
    // Show user form
    currentProductBtn = this;
    userFormContainer.style.display = 'flex';
  } else {
    if (addToCart(productName, productPrice)) {
      productModal.style.display = 'none';
    }
  }
});

// ==================== USER FORM ====================
document.getElementById('userForm').addEventListener('submit', function(e) {
  e.preventDefault();
  
  const username = document.getElementById('usernameInput').value;
  const phone = document.getElementById('phoneInput').value;
  const email = document.getElementById('emailInput').value;
  const address = document.getElementById('addressInput').value;
  
  user = {
    username: username,
    phone: phone,
    email: email || '',
    address: address || '',
    wallet: 'Û±,ÛµÛ°Û°,Û°Û°Û° ØªÙˆÙ…Ø§Ù†'
  };
  
  localStorage.setItem('user', JSON.stringify(user));
  userFormContainer.style.display = 'none';
  updateUserPanel();
  showToast('Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯', 'success');
  
  // If there was a pending product, add it now
  if (currentProductBtn) {
    const productName = currentProductBtn.dataset.name;
    const productPrice = currentProductBtn.dataset.price;
    addToCart(productName, productPrice);
    currentProductBtn = null;
  }
  
  // Clear form
  this.reset();
});

// Skip user form
document.getElementById('skipUserForm').addEventListener('click', () => {
  userFormContainer.style.display = 'none';
  showToast('Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¨Ø¹Ø¯Ø§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯', 'warning');
  currentProductBtn = null;
});

// ==================== BUY BUTTONS ====================
document.querySelectorAll('.buy').forEach(btn => {
  btn.addEventListener('click', function() {
    const productName = this.dataset.product;
    const productPrice = this.dataset.price;
    
    if (!user) {
      currentProductBtn = this;
      userFormContainer.style.display = 'flex';
    } else {
      addToCart(productName, productPrice);
    }
  });
});

// ==================== TOAST NOTIFICATIONS ====================
function showToast(message, type = 'info') {
  const toast = document.createElement('div');
  toast.className = 'toast';
  
  let icon = 'fas fa-info-circle';
  if (type === 'success') icon = 'fas fa-check-circle';
  if (type === 'error') icon = 'fas fa-exclamation-circle';
  if (type === 'warning') icon = 'fas fa-exclamation-triangle';
  
  toast.innerHTML = `
    <i class="${icon}"></i>
    <span>${message}</span>
  `;
  
  // Style based on type
  if (type === 'success') toast.style.background = '#0dbf6f';
  if (type === 'error') toast.style.background = '#ff6b6b';
  if (type === 'warning') toast.style.background = '#ffa502';
  
  document.getElementById('toastContainer').appendChild(toast);
  
  // Remove after animation
  setTimeout(() => {
    toast.remove();
  }, 2500);
}

// ==================== HELPER FUNCTIONS ====================
function showUserPanel() {
  userPanel.style.display = 'block';
  updateUserPanel();
}

function showSpecialOffers() {
  document.querySelector('.section-title:nth-child(5)').scrollIntoView({ 
    behavior: 'smooth' 
  });
  showToast('Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯Ø§Øª ÙˆÛŒÚ˜Ù‡ Ø¨Ø±Ø§ÛŒ Ø´Ù…Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´Ø¯', 'info');
}

function showSupport() {
  alert('Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ù†Ø§Ø±ÙˆÛŒÙ† Ù¾ÙˆØ²\nğŸ“ ØªÙ„ÙÙ†: Û°Û²Û±-Û±Û²Û³Û´ÛµÛ¶Û·Û¸\nğŸ“§ Ø§ÛŒÙ…ÛŒÙ„: support@narvinpos.com\nğŸ•’ Ø³Ø§Ø¹Øª Ú©Ø§Ø±ÛŒ: Û¹ ØµØ¨Ø­ ØªØ§ Ûµ Ø¹ØµØ±');
}

// ==================== INITIALIZATION ====================
document.addEventListener('DOMContentLoaded', function() {
  updateUserPanel();
  updateCartBadges();
  renderCart();
  
  // Close cart when clicking outside
  document.addEventListener('click', function(event) {
    if (!cartContainer.contains(event.target) && 
        !event.target.closest('#showCartBtn') && 
        !event.target.closest('#cartBtnBottom') &&
        cartContainer.style.display === 'block') {
      hideCart();
    }
    
    // Close menu when clicking outside
    if (!menu.contains(event.target) && 
        !event.target.closest('#menuToggle') && 
        menu.style.display === 'flex') {
      menu.style.display = 'none';
    }
    
    // Close user panel when clicking outside
    if (!userPanel.contains(event.target) && 
        !event.target.closest('#userIcon') && 
        userPanel.style.display === 'block') {
      userPanel.style.display = 'none';
    }
  });
  
  // Welcome message
  setTimeout(() => {
    if (!user) {
      showToast('Ø³Ù„Ø§Ù…! Ø¨Ø±Ø§ÛŒ Ø®Ø±ÛŒØ¯ Ø¨Ù‡ØªØ±ØŒ Ù„Ø·ÙØ§Ù‹ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ ØªÚ©Ù…ÛŒÙ„ Ú©Ù†ÛŒØ¯', 'info');
    }
  }, 1000);
});
</script>

</body>
</html>
```html
<!-- Ø§ÛŒÙ†Ùˆ ØªÙˆÛŒ index.html Ù‡Ø±Ø¬Ø§ Ø®ÙˆØ§Ø³ØªÛŒ Ø¨Ø°Ø§Ø± -->
<a href="login.html" 
   style="position: fixed;
          bottom: 20px;
          left: 20px;
          background: green;
          color: white;
          padding: 10px 15px;
          border-radius: 10px;
          text-decoration: none;">
   ğŸ”§ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª
</a>
```
